<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html lang='en-US'>

<!--
	Copyright (c) 1999-2010 by Digital Mars
	All Rights Reserved Written by Walter Bright
	http://www.digitalmars.com
  -->

<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" >
<title>std.getopt - D Programming Language - Digital Mars</title>
<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>-->
<script src="../js/codemirror.js"></script>
<script src="../js/d.js"></script>
<script src="../js/run.js" type="text/javascript"></script>
<link rel="stylesheet" href="../css/codemirror.css" />
<link rel="stylesheet" type="text/css" href="../css/style.css">

<script type="text/javascript">
function listanchors()
{
    if (typeof inhibitQuickIndex !== 'undefined') return;
    var a = document.getElementById("quickindex");
    if (!a) return;
    var newText = "";
    var hash = new Array;
    var n = 0;
    var values = new Array;
    // List all anchors.
    for (var i = 0; i < document.anchors.length; i++)
    {
        var a = document.anchors[i];
        var text = a.name;
        // ignore anchors from DDOC_PSYMBOL
        if (text[0] != '.') continue;
        if (hash[text] > 0) continue;
        hash[text] = 1;
        values[n++] = a.name
    }

    // we won't display the qualifying names to save space, so sort by last name
    var lastName = function(a){
        var li = a.lastIndexOf('.');
        return a.slice(li + 1);
    }
    values.sort(function(a,b){return lastName(a) > lastName(b)});

    for(var i = 0; i < values.length; i++) {
        var a = values[i];
        var text = lastName(a);
        newText += ' \x3Ca href="\x23' + a +
            '"\x3E\x3Cspan class="d_psymbol"\x3E' + text + '\x3C/span\x3E\x3C/a\x3E';
    }
    if (newText != "") newText = "\x3Cp\x3E\x3Cb\x3EJump to:\x3C/b\x3E" + newText + "\x3C/p\x3E";
    var a = document.getElementById("quickindex");
    a.innerHTML = newText;
}
</script>

<script src="../js/hyphenate.js" type="text/javascript"></script>

</head>

<body onload="listanchors()" class='hyphenate'>

<div id="top">
	<div id="search-box">
		<form method="get" action="http://google.com/search">
			<img src="../images/search-left.gif" width="11" height="22" alt=""><input id="q" name="q"><input type="image" id="search-submit" name="submit" src="../images/search-button.gif">
			<input type="hidden" id="domains" name="domains" value="dlang.org">
			<input type="hidden" id="sourceid" name="sourceid" value="google-search">
			<div id="search-dropdown">
				<select id="sitesearch" name="sitesearch" size="1">
					<option value="dlang.org">Entire D  Site</option>
					<option value="dlang.org/phobos">Library Reference</option>
					<option value="www.digitalmars.com/d/archives">Newsgroup Archives</option>
				</select>
			</div>
		</form>
	</div>
	<div id="header">
		<a href="/"><img id="logo" width="125" height="95" border="0" alt="D Logo" src="../images/dlogo.png"></a>
		<a id="d-language" href="/">D Programming Language </a>
	</div>
</div>

<div id="navigation">
    
<div class="navblock">
<form method="get" action="http://www.google.com/search">
<div id="searchbox">
<input name="q" size="10" value="RTL Search" onFocus='if(this.value == "RTL Search"){this.value="";}'>
<input type="hidden" name="domains" value="www.digitalmars.com">
<input type="hidden" name="sitesearch" value="dlang.org/phobos">
<input type="hidden" name="sourceid" value="google-search">
<input type="submit" name="submit" value="Go">
</div>
</form>
<div id="toctop">
    <ul><li><a href="../index.html" title="D Programming Language">D</a></li>
	<li><a href="../spec.html" title="D Language Specification">Language</a></li>
	<li><a href="../phobos/index.html" title="D Runtime Library">Phobos</a></li>
	<li><a href="../phobos-prerelease/index.html" title="D Runtime Library (prerelease)">Phobos (prerelease)</a></li>
	<li><a href="../comparison.html" title="Language Comparisons">Comparisons</a></li>
    </ul>
</div>
</div>
    
<div class="navblock">
    <ul><li><a href="object.html" title="root of object hierarchy">object</a></li>
    </ul>
    <h2><a href="index.html#std" title="D standard modules">std</a></h2>
    <ul><li><a href="std_algorithm.html" title="General-purpose algorithms">std.algorithm</a></li>
	<li><a href="std_array.html" title="Array functions">std.array</a></li>
	<li><a href="std_ascii.html" title="Functions which operate on ASCII characters">std.ascii</a></li>
	<li><a href="std_base64.html" title="Encode/decode base64 format">std.base64</a></li>
	<li><a href="std_bigint.html" title="Arbitrary-precision ('bignum') arithmetic">std.bigint</a></li>
	<li><a href="std_bitmanip.html" title="Bit-level manipulation">std.bitmanip</a></li>
	<li><a href="std_compiler.html" title="Information about the D compiler implementation">std.compiler</a></li>
	<li><a href="std_complex.html" title="Complex numbers">std.complex</a></li>
	<li><a href="std_concurrency.html" title="Message Passing">std.concurrency</a></li>
	<li><a href="std_container.html" title="Containers">std.container</a></li>
	<li><a href="std_conv.html" title="Conversion of strings to integers">std.conv</a></li>
	<li><a href="std_csv.html" title="CSV file parser">std.csv</a></li>
	<li><a href="std_datetime.html" title="Date and time-related types and functions">std.datetime</a></li>
	<li><a href="std_encoding.html" title="Character and string encoding">std.encoding</a></li>
	<li><a href="std_exception.html" title="Exceptions and error handling">std.exception</a></li>
	<li><a href="std_file.html" title="Basic file operations">std.file</a></li>
	<li><a href="std_format.html" title="Formatted conversions of values to strings">std.format</a></li>
	<li><a href="std_functional.html" title="functional">std.functional</a></li>
	<li><a href="std_getopt.html" title="Command line options">std.getopt</a></li>
	<li><a href="std_json.html" title="JSON reader">std.json</a></li>
	<li><a href="std_math.html" title="the usual math functions">std.math</a></li>
	<li><a href="std_mathspecial.html" title="mathematical special functions">std.mathspecial</a></li>
	<li><a href="std_metastrings.html" title="Metaprogramming with strings">std.metastrings</a></li>
	<li><a href="std_mmfile.html" title="Memory mapped files">std.mmfile</a></li>
	<li><a href="std_numeric.html" title="Numeric algorithms">std.numeric</a></li>
	<li><a href="std_outbuffer.html" title="Assemble data into an array of bytes">std.outbuffer</a></li>
	<li><a href="std_parallelism.html" title="High-level primitives for SMP parallelism">std.parallelism</a></li>
	<li><a href="std_path.html" title="Manipulate file names, path names, etc.">std.path</a></li>
	<li><a href="std_process.html" title="Create/destroy processes">std.process</a></li>
	<li><a href="std_random.html" title="Random number generation">std.random</a></li>
	<li><a href="std_range.html" title="Ranges">std.range</a></li>
	<li><a href="std_regex.html" title="regular expressions">std.regex</a></li>
	<li><a href="std_signals.html" title="Signals">std.signals</a></li>
	<li><a href="std_socket.html" title="Sockets">std.socket</a></li>
	<li><a href="std_socketstream.html" title="Stream for a blocking, connected Socket">std.socketstream</a></li>
	<li><a href="std_stdio.html" title="Standard I/O">std.stdio</a></li>
	<li><a href="std_cstream.html" title="Stream I/O">std.cstream</a></li>
	<li><a href="std_stream.html" title="Stream I/O">std.stream</a></li>
	<li><a href="std_string.html" title="Basic string operations">std.string</a></li>
	<li><a href="std_system.html" title="Inquire about the CPU, operating system">std.system</a></li>
	<li><a href="std_traits.html" title="Type traits">std.traits</a></li>
	<li><a href="std_typecons.html" title="Type constructors">std.typecons</a></li>
	<li><a href="std_typetuple.html" title="Type tuples">std.typetuple</a></li>
	<li><a href="std_uni.html" title="Unicode classification">std.uni</a></li>
	<li><a href="std_uri.html" title="Encode and decode Uniform Resource Identifiers (URIs)">std.uri</a></li>
	<li><a href="std_utf.html" title="Encode and decode utf character encodings">std.utf</a></li>
	<li><a href="std_uuid.html" title="Generate and use UUIDs">std.uuid</a></li>
	<li><a href="std_variant.html" title="Stores all types in a uniform, dynamically-checked representation">std.variant</a></li>
	<li><a href="std_xml.html" title="XML file processing">std.xml</a></li>
	<li><a href="std_zip.html" title="Read/write zip archives">std.zip</a></li>
	<li><a href="std_zlib.html" title="Compression / Decompression of data">std.zlib</a></li>
	<li><a href="std_net_curl.html" title="High level curl wrapper">std.net.curl</a></li>
	<li><a href="std_net_isemail.html" title="Validate e-mail addresses">std.net.isemail</a></li>
	<li><a href="std_digest_crc.html" title="CRC digest functions">std.digest.crc</a></li>
	<li><a href="std_digest_digest.html" title="API for digest functions">std.digest.digest</a></li>
	<li><a href="std_digest_md.html" title="MD digest functions">std.digest.md</a></li>
	<li><a href="std_digest_ripemd.html" title="RIPEMD digest functions">std.digest.ripemd</a></li>
	<li><a href="std_digest_sha.html" title="SHA digest functions">std.digest.sha</a></li>
	<li><a href="std_windows_charset.html" title="Conversion to/from Windows character sets">std.windows.charset</a></li>
    </ul>
    <h2><a href="index.html#etc" title="D etc modules">etc</a></h2>
    <ul><li><a href="etc_c_curl.html" title="Interface to libcurl library">etc.c.curl</a></li>
	<li><a href="etc_c_sqlite3.html" title="Interface to sqlite3 library">etc.c.sqlite3</a></li>
	<li><a href="etc_c_zlib.html" title="Interface to zlib library">etc.c.zlib</a></li>
    </ul>
    <h2><a href="index.html#core" title="D core modules">core</a></h2>
    <ul><li><a href="core_atomic.html" title="Atomic operations">core.atomic</a></li>
	<li><a href="core_bitop.html" title="Bitwise operations">core.bitop</a></li>
	<li><a href="core_cpuid.html" title="CPU identification">core.cpuid</a></li>
	<li><a href="core_exception.html" title="Root of exception hierarchy">core.exception</a></li>
	<li><a href="core_memory.html" title="Interface to memory management">core.memory</a></li>
	<li><a href="core_runtime.html" title="Interface to D runtime library internals">core.runtime</a></li>
	<li><a href="core_simd.html" title="Builtin SIMD intrinsics">core.simd</a></li>
	<li><a href="core_thread.html" title="Thread management">core.thread</a></li>
	<li><a href="core_time.html" title="Core time functionality">core.time</a></li>
	<li><a href="core_vararg.html" title="Variable function arguments">core.vararg</a></li>
	<li><a href="core_sync_barrier.html" title="Synchronizing progress of a group of threads">core.sync.barrier</a></li>
	<li><a href="core_sync_condition.html" title="Synchronized condition checking">core.sync.condition</a></li>
	<li><a href="core_sync_config.html" title="Stuff for core.sync">core.sync.config</a></li>
	<li><a href="core_sync_exception.html" title="SyncException">core.sync.exception</a></li>
	<li><a href="core_sync_mutex.html" title="Mutexes">core.sync.mutex</a></li>
	<li><a href="core_sync_rwmutex.html" title="R/W mutually exclusive access">core.sync.rwmutex</a></li>
	<li><a href="core_sync_semaphore.html" title="Semaphores">core.sync.semaphore</a></li>
    </ul>
</div>
</div><!--/navigation-->
<div id="content">
    
<div id="tools">
	<!--span id="lastupdate">Last update Tue Dec 25 16:32:03 2012
</span-->
	<a href="https://github.com/D-Programming-Language/phobos/edit/master/std/getopt.d" class="tip button">
		Improve this page
		<span>
			Quickly fork, edit online, and submit a pull request for this page.
			Requires a signed-in GitHub account. This works well for small changes.
			If you'd like to make larger changes you may want to consider using
			local clone.
		</span>
	</a>
	<a href="http://www.prowiki.org/wiki4d/wiki.cgi?DocComments/Phobos/StdGetopt" class="tip button">
		Page wiki
		<span>
	        View or edit the community-maintained wiki page associated with this page.
		</span>
	</a>
</div>
    <h1>std.getopt</h1>
    <div id=quickindex class=quickindex></div>
    <!-- Generated by Ddoc from std/getopt.d -->
Processing of command line options.
<p></p>
The <a name="getopt"></a><span class="ddoc_psymbol">getopt</span> module implements a <span class="d_inlinecode"><a name="getopt"></a><span class="ddoc_psymbol">getopt</span></span> function and two functions <a href="#getOptions"><span class="d_inlinecode">getOptions</span></a>. All adhere to the POSIX syntax for command line options. GNU
extensions are supported in the form of long options introduced by a double dash
("--"). Values can be separated by space/s and additionally by the <a href="#assignChar"><span class="d_inlinecode">assignChar</span></a> character which defaults to '='. Short options with the value
directly attached (i.e.  without intervening space) are also allowed but
configurable to work only for short numeric options. Support for bundling of
command line options, as was the case with the more traditional single-letter
approach, is provided but not enabled by default.

<p></p>
<b>License:</b><br><a href="http://www.boost.org/LICENSE_1_0.txt">Boost License 1.0</a>.
<p></p>
<b>Authors:</b><br><a href="http://erdani.org">Andrei Alexandrescu</a>, Jens K. Mueller, Igor Lesik
<p></p>
<b>Credits:</b><br>
This module and its documentation are inspired by Perl's
           <a href="http://perldoc.perl.org/Getopt/Long.html">Getopt::Long</a> module. The
           syntax of D's <span class="d_inlinecode"><a name="getopt"></a><span class="ddoc_psymbol">getopt</span></span> is simpler than its Perl counterpart
           because <span class="d_inlinecode"><a name="getopt"></a><span class="ddoc_psymbol">getopt</span></span> infers the expected parameter types from the
           static types of the passed-in pointers.
<p></p>
<b>Source:</b><br>
<a href="https://github.com/D-Programming-Language/phobos/blob/master/std/getopt.d">std/getopt.d</a><p></p>

<dl><dt class="d_decl"><a name=".getopt"></a>void <a name="getopt"></a><span class="ddoc_psymbol">getopt</span>(T...)(ref string[] <i>args</i>, T <i>opts</i>);
</dt>
<dd><b>Synopsis:</b><br>
<pre class="d_code"><span class="d_keyword">import</span> std.<span class="d_psymbol">getopt</span>;

string data = <span class="d_string">"file.dat"</span>;
<span class="d_keyword">int</span> length = 24;
<span class="d_keyword">bool</span> verbose;
<span class="d_keyword">enum</span> Color { no, yes }
Color color;

<span class="d_keyword">void</span> main(string[] args)
{
  <span class="d_psymbol">getopt</span>(args,
         <span class="d_string">"length"</span>,  &amp;length,    <span class="d_comment">// numeric
</span>         <span class="d_string">"file"</span>,    &amp;data,      <span class="d_comment">// string
</span>         <span class="d_string">"verbose"</span>, &amp;verbose,   <span class="d_comment">// flag
</span>         <span class="d_string">"color"</span>,   &amp;color,     <span class="d_comment">// enum
</span>         ...
        );
}
</pre>
<p></p>

The <span class="d_inlinecode"><a name="getopt"></a><span class="ddoc_psymbol">getopt</span></span> function takes a reference to the command line
(as received by <span class="d_inlinecode">main</span>) as its first argument, and an
unbounded number of pairs of strings and pointers. Each string is an
option meant to "fill" the value pointed-to by the pointer to its
right (the "bound" pointer). The option string in the call to
<span class="d_inlinecode"><a name="getopt"></a><span class="ddoc_psymbol">getopt</span></span> should not start with a dash.
<p></p>

In all cases, the command-line options that were parsed and used by
<span class="d_inlinecode"><a name="getopt"></a><span class="ddoc_psymbol">getopt</span></span> are removed from <span class="d_inlinecode">args</span>. Whatever in the
arguments did not look like an option is left in <span class="d_inlinecode">args</span> for
further processing by the program. Values that were unaffected by the
options are not touched, so a common idiom is to initialize options
to their defaults and then invoke <span class="d_inlinecode"><a name="getopt"></a><span class="ddoc_psymbol">getopt</span></span>. If a
command-line argument is recognized as an option with a parameter and
the parameter cannot be parsed properly (e.g. a number is expected
but not present), a <span class="d_inlinecode">ConvException</span> exception is thrown. If an option
is not recognized an <span class="d_inlinecode">Exception</span> is thrown. Further an <span class="d_inlinecode">Exception</span>
is thrown if there was an argument expected but non given or an argument
was given but non was expected.
<p></p>

Depending on the type of the pointer being bound, <span class="d_inlinecode"><a name="getopt"></a><span class="ddoc_psymbol">getopt</span></span>
recognizes the following kinds of options:
<p></p>

<ol><p></p>

  <li><i>Boolean options</i>. These are the simplest options; all
  they do is set a Boolean to <span class="d_inlinecode"><b>true</b></span>:
<p></p>

<pre class="d_code"><span class="d_keyword">bool</span> verbose, debugging;
<span class="d_psymbol">getopt</span>(args, <span class="d_string">"verbose"</span>, &amp;verbose, <span class="d_string">"debug"</span>, &amp;debugging);
</pre>
  </li>
<p></p>

  <li><i>Numeric options.</i> If an option is bound to a numeric type, a
  number is expected as the next option, or right within the option
  separated with an "=" sign:
<p></p>

<pre class="d_code"><span class="d_keyword">uint</span> timeout;
<span class="d_psymbol">getopt</span>(args, <span class="d_string">"timeout"</span>, &amp;timeout);
</pre>
<p></p>

  To set <span class="d_inlinecode">timeout</span> to <span class="d_inlinecode">5</span>, invoke the program with either <span class="d_inlinecode"> --timeout=5</span> or <span class="d_inlinecode">--timeout 5</span>.
  </li>
<p></p>

  <li><i>Incremental options.</i> If an option name has a "+" suffix and
  is bound to a numeric type, then the option's value tracks the number
  of times the option occurred on the command line:
<p></p>

<pre class="d_code"><span class="d_keyword">uint</span> paranoid;
<span class="d_psymbol">getopt</span>(args, <span class="d_string">"paranoid+"</span>, &amp;paranoid);
</pre>
<p></p>

  Invoking the program with "--paranoid --paranoid --paranoid" will set
  <span class="d_inlinecode">paranoid</span> to 3. Note that an incremental option never
  expects a parameter, e.g. in the command line "--paranoid 42
  --paranoid", the "42" does not set <span class="d_inlinecode">paranoid</span> to 42;
  instead, <span class="d_inlinecode">paranoid</span> is set to 2 and "42" is not considered
  as part of the normal program arguments.
  </li>
<p></p>

  <li><i>Enum options.</i> If an option is bound to an enum, an enum symbol as a
  string is expected as the next option, or right within the option separated
  with an "=" sign:
<p></p>

<pre class="d_code"><span class="d_keyword">enum</span> Color { no, yes }
Color color; <span class="d_comment">// default initialized to Color.no
</span><span class="d_psymbol">getopt</span>(args, <span class="d_string">"color"</span>, &amp;color);
</pre>
<p></p>

  To set <span class="d_inlinecode">color</span> to <span class="d_inlinecode">Color.yes</span>, invoke the program with either <span class="d_inlinecode"> --color=yes</span> or <span class="d_inlinecode">--color yes</span>.
  </li>
<p></p>

  <li><i>String options.</i> If an option is bound to a string, a string
  is expected as the next option, or right within the option separated
  with an "=" sign:
<p></p>

<pre class="d_code">string outputFile;
<span class="d_psymbol">getopt</span>(args, <span class="d_string">"output"</span>, &amp;outputFile);
</pre>
<p></p>

  Invoking the program with "--output=myfile.txt" or "--output
  myfile.txt" will set <span class="d_inlinecode">outputFile</span> to "myfile.txt". If you want to
  pass a string containing spaces, you need to use the quoting that is
  appropriate to your shell, e.g. --output='my file.txt'. Note that string,
  wstring, and dstring are supported.
  </li>
<p></p>

  <li><i>Array options.</i> If an option is bound to an dynamic array, a new
  element is appended to the array each time the option occurs:
<p></p>

<pre class="d_code">string[] outputFiles;
<span class="d_psymbol">getopt</span>(args, <span class="d_string">"output"</span>, &amp;outputFiles);
</pre>
<p></p>

  Invoking the program with "--output=myfile.txt --output=yourfile.txt"
  or "--output myfile.txt --output yourfile.txt" will set <span class="d_inlinecode"> outputFiles</span> to [ "myfile.txt", "yourfile.txt" ]. The same result can be
  achieved by "--output myfile.txt,yourfile.txt" specifying multiple elements
  separated by <a href="#arraySep"><span class="d_inlinecode">arraySep</span></a>.
  </li>
<p></p>

  <li><i>Hash options.</i> If an option is bound to an associative
  array, a string of the form "name=value" is expected as the next
  option, or right within the option separated with an "=" sign:
<p></p>

<pre class="d_code"><span class="d_keyword">double</span>[string] tuningParms;
<span class="d_psymbol">getopt</span>(args, <span class="d_string">"tune"</span>, &amp;tuningParms);
</pre>
<p></p>

  Invoking the program with e.g. "--tune=alpha=0.5 --tune beta=0.6" will
  set <span class="d_inlinecode">tuningParms</span> to [ "alpha" : 0.5, "beta" : 0.6 ]. Specifying
  multiple elements separated by <a href="#arraySep"><span class="d_inlinecode">arraySep</span></a> is also possible, e.g.
  "--tune=alpha=0.5,beta=0.6".
<p></p>

  Keys and values can be of any parsable types.
  </li>
<p></p>

  <li><i>Delegate options.</i> An option can be bound to a delegate with
  the signature <span class="d_inlinecode">void delegate()</span>, <span class="d_inlinecode">void delegate(string option)</span>
  or <span class="d_inlinecode">void delegate(string option, string value)</span>.
<p></p>

  <ul><p></p>

    <li>In the <span class="d_inlinecode">void delegate()</span> case, the delegate is invoked
    whenever the option is seen.
    </li>
<p></p>

    <li>In the <span class="d_inlinecode">void delegate(string option)</span> case, the option string
    (without the leading dash(es)) is passed to the delegate. After that,
    the option string is considered handled and removed from the options array.
<p></p>

<pre class="d_code"><span class="d_keyword">void</span> main(string[] args)
{
  <span class="d_keyword">uint</span> verbosityLevel = 1;
  <span class="d_keyword">void</span> myHandler(string option)
  {
    <span class="d_keyword">if</span> (option == <span class="d_string">"quiet"</span>)
    {
      verbosityLevel = 0;
    }
    <span class="d_keyword">else</span>
    {
      <span class="d_keyword">assert</span>(option == <span class="d_string">"verbose"</span>);
      verbosityLevel = 2;
    }
  }
  <span class="d_psymbol">getopt</span>(args, <span class="d_string">"verbose"</span>, &amp;myHandler, <span class="d_string">"quiet"</span>, &amp;myHandler);
}
</pre>
    </li>
<p></p>

    <li>In the <span class="d_inlinecode">void delegate(string option, string value)</span> case, the
    option string is handled as an option with one argument, and parsed
    accordingly. The option and its value are passed to the
    delegate. After that, whatever was passed to the delegate is
    considered handled and removed from the list.
<p></p>

<pre class="d_code"><span class="d_keyword">void</span> main(string[] args)
{
  <span class="d_keyword">uint</span> verbosityLevel = 1;
  <span class="d_keyword">void</span> myHandler(string option, string value)
  {
    <span class="d_keyword">switch</span> (value)
    {
      <span class="d_keyword">case</span> <span class="d_string">"quiet"</span>: verbosityLevel = 0; <span class="d_keyword">break</span>;
      <span class="d_keyword">case</span> <span class="d_string">"verbose"</span>: verbosityLevel = 2; <span class="d_keyword">break</span>;
      <span class="d_keyword">case</span> <span class="d_string">"shouting"</span>: verbosityLevel = verbosityLevel.max; <span class="d_keyword">break</span>;
      <span class="d_keyword">default</span> :
        stderr.writeln(<span class="d_string">"Dunno how verbose you want me to be by saying "</span>,
          value);
        exit(1);
    }
  }
  <span class="d_psymbol">getopt</span>(args, <span class="d_string">"verbosity"</span>, &amp;myHandler);
}
</pre>
    </li>
  </ul></li>
</ol>
<p></p>

<b>Options with multiple names</b>
<p></p>

Sometimes option synonyms are desirable, e.g. "--verbose",
"--loquacious", and "--garrulous" should have the same effect. Such
alternate option names can be included in the option specification,
using "|" as a separator:
<p></p>

<pre class="d_code"><span class="d_keyword">bool</span> verbose;
<span class="d_psymbol">getopt</span>(args, <span class="d_string">"verbose|loquacious|garrulous"</span>, &amp;verbose);
</pre>
<p></p>

<b>Case</b>
<p></p>

By default options are case-insensitive. You can change that behavior
by passing <span class="d_inlinecode"><a name="getopt"></a><span class="ddoc_psymbol">getopt</span></span> the <span class="d_inlinecode">caseSensitive</span> directive like this:
<p></p>

<pre class="d_code"><span class="d_keyword">bool</span> foo, bar;
<span class="d_psymbol">getopt</span>(args,
       std.<span class="d_psymbol">getopt</span>.config.caseSensitive,
       <span class="d_string">"foo"</span>, &amp;foo,
       <span class="d_string">"bar"</span>, &amp;bar);
</pre>
<p></p>

In the example above, "--foo", "--bar", "--FOo", "--bAr" etc. are recognized.
The directive is active til the end of <span class="d_inlinecode"><a name="getopt"></a><span class="ddoc_psymbol">getopt</span></span>, or until the
converse directive <span class="d_inlinecode">caseInsensitive</span> is encountered:
<p></p>

<pre class="d_code"><span class="d_keyword">bool</span> foo, bar;
<span class="d_psymbol">getopt</span>(args,
       std.<span class="d_psymbol">getopt</span>.config.caseSensitive,
       <span class="d_string">"foo"</span>, &amp;foo,
       std.<span class="d_psymbol">getopt</span>.config.caseInsensitive,
       <span class="d_string">"bar"</span>, &amp;bar);
</pre>
<p></p>

The option "--Foo" is rejected due to <span class="d_inlinecode">std.<a name="getopt"></a><span class="ddoc_psymbol">getopt</span>.config.caseSensitive</span>, but not "--Bar", "--bAr"
etc. because the directive <span class="d_inlinecode">std.<a name="getopt"></a><span class="ddoc_psymbol">getopt</span>.config.caseInsensitive</span> turned sensitivity off before
option "bar" was parsed.
<p></p>

<b>"Short" versus "long" options</b>
<p></p>

Single-letter options preceded by only one dash (e.g. <span class="d_inlinecode">-t</span>) are accepted.
These options are called short options. If a double-dash is used a multi-letter
option must follow, e.g. <span class="d_inlinecode">--timeout</span>. This kind of option is called a long
option. A multi-letter option with a single dash (e.g. <span class="d_inlinecode">-timeout</span>) will not
be accepted as a single option (but if bundling is enabled it is parsed as -t -i
-m -e -o -u -t; see section <span class="d_inlinecode">Bundling</span>) and a single-letter option with a
double-dash (e.g.  <span class="d_inlinecode">--t</span>) will not be accepted as well. If the option has a
parameter, that option must be passed with an intervening space or "=":
<p></p>

<pre class="d_code"><span class="d_keyword">uint</span> timeout;
<span class="d_psymbol">getopt</span>(args, <span class="d_string">"timeout|t"</span>, &amp;timeout);
</pre>
<p></p>

To set <span class="d_inlinecode">timeout</span> to <span class="d_inlinecode">5</span>, use either the long options <span class="d_inlinecode">--timeout=5</span> or
<span class="d_inlinecode">--timeout 5</span> or the short options <span class="d_inlinecode">-t=5</span> or <span class="d_inlinecode">-t 5</span>. Also the short
option with no space <span class="d_inlinecode">-t5</span> is accepted (see next section).
<p></p>

The forms <span class="d_inlinecode">-timeout=5</span>, <span class="d_inlinecode">-timeout 5</span>, <span class="d_inlinecode">--t=5</span>, <span class="d_inlinecode">--t 5</span>, <span class="d_inlinecode">--t5</span>,
<span class="d_inlinecode">--timeout5</span>, and <span class="d_inlinecode">-timeout5</span> are not accepted. Beware though that <span class="d_inlinecode">-timeout=5</span>, <span class="d_inlinecode">-timeout 5</span>, and <span class="d_inlinecode">-timeout5</span> would be accepted with values
<span class="d_inlinecode">imeout=5</span>, <span class="d_inlinecode">imeout</span>, and <span class="d_inlinecode">imeout5</span>, respectively, if -t was an option
of type string. For more details about short options with no space, refer also
to the next section.
<p></p>

<b>Omitting spaces for short options</b>
<p></p>

By default omitting space/s for short options is enabled for all types, i.e. <span class="d_inlinecode">std.<a name="getopt"></a><span class="ddoc_psymbol">getopt</span>.config.noSpaceForShortOptions</span> is set.
<p></p>

If you happen to have a short string option and a long string option starting
with the same letter like the short option, the behavior may be surprising.
Since whenever the value passed to a short option is convertible to its type
(via <a href="std_conv.html#to"><span class="d_inlinecode">std.conv.to</span></a>) the option will be accepted. This is e.g. the case for
strings as pointed out in the above section. As this behavior is usually
confusing, it can be enabled for numeric short options only using the
configuration option <span class="d_inlinecode">std.<a name="getopt"></a><span class="ddoc_psymbol">getopt</span>.config.noSpaceOnlyForShortNumericOptions</span>.
Given
<p></p>

<pre class="d_code">string timeout;
<span class="d_psymbol">getopt</span>(args, std.<span class="d_psymbol">getopt</span>.config.noSpaceOnlyForShortNumericOptions,
             <span class="d_string">"timeout|t"</span>, &amp;timeout);
</pre>
<p></p>

<span class="d_inlinecode">-timeout=whatever</span>, <span class="d_inlinecode">-timeout whatever</span>, and <span class="d_inlinecode">-timeoutwhatever</span> will
throw an exception.
<p></p>

Specifying <span class="d_inlinecode">std.<a name="getopt"></a><span class="ddoc_psymbol">getopt</span>.config.noSpaceOnlyForShortNumericOptions</span> is strongly
recommended in cases like above.
<p></p>

<b>Bundling</b>
<p></p>

Single-letter options can be bundled together, i.e. "-abc" is the same as
<span class="d_inlinecode">"-a -b -c"</span>. By default, this confusing option is turned off. You can
turn it on with the <span class="d_inlinecode">std.<a name="getopt"></a><span class="ddoc_psymbol">getopt</span>.config.bundling</span> directive:
<p></p>

<pre class="d_code"><span class="d_keyword">bool</span> foo, bar;
<span class="d_psymbol">getopt</span>(args,
       std.<span class="d_psymbol">getopt</span>.config.bundling,
       <span class="d_string">"foo|f"</span>, &amp;foo,
       <span class="d_string">"bar|b"</span>, &amp;bar);
</pre>
<p></p>

In case you want to only enable bundling for some of the parameters,
bundling can be turned off with <span class="d_inlinecode">std.<a name="getopt"></a><span class="ddoc_psymbol">getopt</span>.config.noBundling</span>.
<p></p>

Note, when using bundling together with short options the unbundling happens
before the short options are handled. E.g.
<p></p>

<pre class="d_code"><span class="d_keyword">bool</span> verbose;
string filename;

<span class="d_keyword">auto</span> args = [<span class="d_string">"program.name"</span>,
             <span class="d_string">"-fzv"</span>];
<span class="d_psymbol">getopt</span>(args, config.bundling,
             <span class="d_string">"f"</span>, &amp;filename,
             <span class="d_string">"v"</span>, &amp;verbose);
<span class="d_keyword">assert</span>(verbose, to!string(verbose));
<span class="d_keyword">assert</span>(filename == <span class="d_string">"-z"</span>, to!string(filename)); <span class="d_comment">// due to unbundling
</span></pre>
<p></p>

But "-vf filename" works as expected.
<p></p>

<b>Passing unrecognized options through</b>
<p></p>

If an application needs to do its own processing of whichever arguments
<span class="d_inlinecode"><a name="getopt"></a><span class="ddoc_psymbol">getopt</span></span> did not understand, it can pass the
<span class="d_inlinecode">std.<a name="getopt"></a><span class="ddoc_psymbol">getopt</span>.config.passThrough</span> directive to <span class="d_inlinecode"><a name="getopt"></a><span class="ddoc_psymbol">getopt</span></span>. As <span class="d_inlinecode">std.<a name="getopt"></a><span class="ddoc_psymbol">getopt</span>.config.passThrough</span> is only used in these cases the default is <span class="d_inlinecode">std.<a name="getopt"></a><span class="ddoc_psymbol">getopt</span>.config.noPassThrough</span>.
<p></p>

<pre class="d_code"><span class="d_keyword">bool</span> foo, bar;
<span class="d_psymbol">getopt</span>(args,
       std.<span class="d_psymbol">getopt</span>.config.passThrough,
       <span class="d_string">"foo"</span>, &amp;foo,
       <span class="d_string">"bar"</span>, &amp;bar);
</pre>
<p></p>

An unrecognized option such as "--baz" will be found untouched in
<span class="d_inlinecode">args</span> after <span class="d_inlinecode"><a name="getopt"></a><span class="ddoc_psymbol">getopt</span></span> returns.
<p></p>

<b>Options Terminator</b>
<p></p>

A lonesome double-dash terminates <span class="d_inlinecode"><a name="getopt"></a><span class="ddoc_psymbol">getopt</span></span> gathering. It is used to
separate program options from other parameters (e.g. options to be passed
to another program). Invoking the example above with <span class="d_inlinecode">"--foo -- --bar"</span>
parses foo but leaves "--bar" in <span class="d_inlinecode">args</span>. The double-dash itself is
removed from the argument array.<p></p>

</dd>
<dt class="d_decl"><a name=".getOptions"></a>void <a name="getOptions"></a><span class="ddoc_psymbol">getOptions</span>(T...)(ref string[] <i>args</i>, T <i>opts</i>);
</dt>
<dd>Same as above but noSpaceForShortNumericOptionsOnly is set and specific
Exceptions are thrown.
<p></p>
If a command-line argument is recognized as an option with a parameter and the
parameter cannot be parsed properly (e.g. a number is expected but not present),
an <a href="#IllegalArgumentException"><span class="d_inlinecode">IllegalArgumentException</span></a> is thrown. The original exception (usually a
<a href="std_conv.html#ConvException"><span class="d_inlinecode">std.conv.ConvException</span></a>) is accessible with Throwable's <span class="d_inlinecode">next</span>. If an
option expects an argument (applies to non-Boolean options) but wasn't specified
a <a href="#MissingArgumentException"><span class="d_inlinecode">MissingArgumentException</span></a> is thrown.
<p></p>

For <span class="d_inlinecode">-timeout=5</span>, <span class="d_inlinecode">-timeout 5</span>, and <span class="d_inlinecode">-timeout5</span> an <a href="#IllegalArgumentException"><span class="d_inlinecode">IllegalArgumentException</span></a> is thrown because the argument imeout=5, imeout, and
imeout5, respectively, is not convertible to uint. For <span class="d_inlinecode">--t=5</span>, <span class="d_inlinecode">--t 5</span>,
<span class="d_inlinecode">--t5</span>, and <span class="d_inlinecode">--timeout5</span> an <a href="#UnrecognizedOptionException"><span class="d_inlinecode">UnrecognizedOptionException</span></a> is thrown.
<p></p>

Beware though that <span class="d_inlinecode">-timeout=5</span>, <span class="d_inlinecode">-timeout 5</span>, and <span class="d_inlinecode">-timeout5</span>
would be accepted with values <span class="d_inlinecode">imeout=5</span>, <span class="d_inlinecode">imeout</span>, and <span class="d_inlinecode">imeout5</span>,
respectively, if -t was an option of type string.
<p></p>

<span class="d_inlinecode">-timeout=whatever</span>, <span class="d_inlinecode">-timeout whatever</span>, and <span class="d_inlinecode">-timeoutwhatever</span> will
throw an <a href="#UnrecognizedOptionException"><span class="d_inlinecode">UnrecognizedOptionException</span></a>.
<p></p>

By default <span class="d_inlinecode">std.getopt.config.noPassThrough</span> is set. In this setting a <a href="#UnrecognizedOptionException"><span class="d_inlinecode">UnrecognizedOptionException</span></a> is thrown if any given option is not recognized.
E.g. if --bar is given, then
<p></p>

<pre class="d_code"><span class="d_keyword">bool</span> foo;
getopt(args, <span class="d_string">"foo"</span>, &amp;foo);
</pre>
<p></p>

will throw an <a href="#UnrecognizedOptionException"><span class="d_inlinecode">UnrecognizedOptionException</span></a>.<p></p>

</dd>
<dt class="d_decl"><a name=".getOptions"></a>void <a name="getOptions"></a><span class="ddoc_psymbol">getOptions</span>(T...)(string <i>header</i>, out string <i>usage</i>, ref string[] <i>args</i>, T <i>opts</i>);
</dt>
<dd>Same as above but additionally usage information is being generated using <a href="#usageOptionsString"><span class="d_inlinecode">usageOptionsString</span></a>. The options must include an additional second argument (a
help string) for each option.
<p></p>
<b>Synopsis:</b><br>
<pre class="d_code"><span class="d_comment">// program options with defaults
</span>string inputFile = <span class="d_string">"test"</span>;
string outputFile;

string usage;
<span class="d_psymbol">getOptions</span>(
   <span class="d_string">"Usage: "</span> ~ args[0] ~ <span class="d_string">" { --switch }\n\n"</span>,
   usage,
   args,
   <span class="d_string">"i|input"</span>,<span class="d_string">"   input file name must\n"</span>
             <span class="d_string">"   be an HTML file."</span>,           &amp;inputFile,
   <span class="d_string">"o|output"</span>,<span class="d_string">"  output file name."</span>,          &amp;outputFile,
   <span class="d_string">"author"</span>,<span class="d_string">"     print name of the author"</span>,  <span class="d_keyword">delegate</span>() {writeln(<span class="d_string">"Somebody"</span>);<span class="d_keyword">return</span>;},
   <span class="d_string">"h|help"</span>,<span class="d_string">"    print help"</span>,                 <span class="d_keyword">delegate</span>() {writeln(usage);<span class="d_keyword">return</span>;},
);
</pre>
<p></p>

or
<pre class="d_code"><span class="d_comment">// program options with defaults
</span>string inputFile = <span class="d_string">"test"</span>;
string outputFile;
<span class="d_keyword">uint</span> number;

string header =
   <span class="d_string">"Usage: "</span> ~ args[0] ~ <span class="d_string">" { --switch }\n\n"</span>;

string usage;

<span class="d_keyword">import</span> std.typecons;
<span class="d_keyword">alias</span> tuple options;
<span class="d_keyword">auto</span> opts = options(
   <span class="d_string">"i|input"</span>,<span class="d_string">"   input file name must\n"</span>
             <span class="d_string">"   be an HTML file."</span>,           &amp;inputFile,
   <span class="d_string">"o|output"</span>,<span class="d_string">"  output file name."</span>,          &amp;outputFile,
   <span class="d_string">"n|number"</span>,<span class="d_string">"  a number."</span>,                  &amp;number,
   <span class="d_string">"author"</span>,<span class="d_string">"     print name of the author"</span>,  <span class="d_keyword">delegate</span>() {writeln(<span class="d_string">"Somebody"</span>);<span class="d_keyword">return</span>;},
   <span class="d_string">"h|help"</span>,<span class="d_string">"    print help"</span>,                 <span class="d_keyword">delegate</span>() {writeln(usage);<span class="d_keyword">return</span>;},
);

<span class="d_keyword">try</span> <span class="d_psymbol">getOptions</span>(
       header,
       usage,
       args,
       opts.expand,
    );
<span class="d_keyword">catch</span> (GetoptException e)
{
    <span class="d_comment">// if something goes wrong, report usage with current values
</span>    writeln(e.msg);
    writeln(<span class="d_string">"Usage with currently set values:"</span>);
    optionFormatValue = <span class="d_string">" (currently '%s')"</span>;
    writeln(usageOptionsString(opts.expand));
}
</pre>
<p></p>

</dd>
<dt class="d_decl"><a name=".usageOptionsString"></a>string <a name="usageOptionsString"></a><span class="ddoc_psymbol">usageOptionsString</span>(T...)(T <i>options</i>);
</dt>
<dd><b>Returns:</b><br>a usage string for given options.
<p></p>

Each given option must have a help string as second argument.<p></p>

</dd>
<dt class="d_decl"><a name=".optionChar"></a>dchar <a name="optionChar"></a><span class="ddoc_psymbol">optionChar</span>;
</dt>
<dd>The option character. Defaults to '-' but it can be assigned to
   prior to calling <span class="d_inlinecode">getopt</span>.<p></p>

</dd>
<dt class="d_decl"><a name=".optionSep"></a>dchar <a name="optionSep"></a><span class="ddoc_psymbol">optionSep</span>;
</dt>
<dd>The option separation character. Defaults to '|' but it can be assigned to
   prior to calling <span class="d_inlinecode">getopt</span>.<p></p>

</dd>
<dt class="d_decl"><a name=".endOfOptions"></a>string <a name="endOfOptions"></a><span class="ddoc_psymbol">endOfOptions</span>;
</dt>
<dd>The string that conventionally marks the end of all
   options. Defaults to "--" but can be assigned to prior to calling
   <span class="d_inlinecode">getopt</span>. Assigning an empty string to <span class="d_inlinecode"><a name="endOfOptions"></a><span class="ddoc_psymbol">endOfOptions</span></span>
   effectively disables it.<p></p>

</dd>
<dt class="d_decl"><a name=".assignChar"></a>dchar <a name="assignChar"></a><span class="ddoc_psymbol">assignChar</span>;
</dt>
<dd>The assignment character used in options with parameters. Defaults
   to '=' but can be assigned to prior to calling <span class="d_inlinecode">getopt</span>.<p></p>

</dd>
<dt class="d_decl"><a name=".arraySep"></a>string <a name="arraySep"></a><span class="ddoc_psymbol">arraySep</span>;
</dt>
<dd>The string used to separate multiple elements of array parameters. Defaults
   to "," but can be assigned to prior to calling <span class="d_inlinecode">getopt</span>.<p></p>

</dd>
<dt class="d_decl"><a name=".optionFormatValue"></a>string <a name="optionFormatValue"></a><span class="ddoc_psymbol">optionFormatValue</span>;
</dt>
<dd>The string used to format values in usage strings. Defaults to " Defaults
   to '%s' but can be assigned to prior to calling <a href="#usageOptionsString"><span class="d_inlinecode">usageOptionsString</span></a>.<p></p>

</dd>
<dt class="d_decl"><a name=".GetoptException"></a>class <a name="GetoptException"></a><span class="ddoc_psymbol">GetoptException</span>: object.Exception;
</dt>
<dd>This exception is the common base of all exceptions thrown by this module.<p></p>

</dd>
<dt class="d_decl"><a name=".UnrecognizedOptionException"></a>class <a name="UnrecognizedOptionException"></a><span class="ddoc_psymbol">UnrecognizedOptionException</span>: std.getopt.GetoptException;
</dt>
<dd>This exception is thrown if an option is not recognized.<p></p>

</dd>
<dt class="d_decl"><a name=".IllegalArgumentException"></a>class <a name="IllegalArgumentException"></a><span class="ddoc_psymbol">IllegalArgumentException</span>: std.getopt.GetoptException;
</dt>
<dd>This exception is thrown if the argument given to an option is illegal. There
   may be other exceptions chained to this one, accessible via Throwable's
   member <span class="d_inlinecode">next</span>.<p></p>

</dd>
<dt class="d_decl"><a name=".MissingArgumentException"></a>class <a name="MissingArgumentException"></a><span class="ddoc_psymbol">MissingArgumentException</span>: std.getopt.GetoptException;
</dt>
<dd>This exception is thrown if there was no argument given to an option.<p></p>

</dd>
</dl>

    
<br><br>
<br><br>
<!-- Google ad -->
<script type="text/javascript"><!--
/**/google_ad_client = "pub-5628673096434613";
/**/google_ad_width = 728;
/**/google_ad_height = 90;
/**/google_ad_format = "728x90_as";
/**/google_ad_channel ="6203743411";
/**/google_page_url = document.location;
//--></script>
<!--<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">-->
</script>
</div><!--/content-->


<div id="copyright">
Copyright Andrei Alexandrescu 2008 - 2009, Jens K. Mueller 2011-, Igor Lesik 2011.
 |
Page generated by <a href="http://www.digitalmars.com/d/2.0/ddoc.html">Ddoc</a>.
</div>

</body>
</html>
